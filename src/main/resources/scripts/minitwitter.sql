DROP TABLE USER, USER_RELATIONS, POST;

CREATE TABLE IF NOT EXISTS USER (
  id INTEGER AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL UNIQUE,
  password VARCHAR(50) NOT NULL,
  enabled TINYINT NOT NULL DEFAULT 1,
  role VARCHAR(20) not NULL DEFAULT 'ROLE_USER'
);

CREATE TABLE IF NOT EXISTS USER_RELATIONS (
  id INTEGER AUTO_INCREMENT PRIMARY KEY,
  follower INTEGER NOT NULL,
  followed INTEGER NOT NULL,
  FOREIGN KEY (follower) REFERENCES USER(id),
  FOREIGN KEY (followed) REFERENCES USER(id)
);

CREATE TABLE IF NOT EXISTS POST (
  id INTEGER AUTO_INCREMENT PRIMARY KEY,
  user_id INTEGER NOT NULL,
  tweet VARCHAR(160) NOT NULL,
  tweeeted_on TIMESTAMP NOT NULL
);

INSERT INTO USER VALUES (1,'sam','sam');
INSERT INTO USER VALUES (2,'john','john');
INSERT INTO USER VALUES (3,'jane','jane');
INSERT INTO USER VALUES (4,'tom','tom');
INSERT INTO USER VALUES (5,'harry','harry');

INSERT INTO USER_RELATIONS VALUES (1,1,2);
INSERT INTO USER_RELATIONS VALUES (2,1,5);
INSERT INTO USER_RELATIONS VALUES (3,2,1);
INSERT INTO USER_RELATIONS VALUES (4,1,3);
INSERT INTO USER_RELATIONS VALUES (5,4,2);
INSERT INTO USER_RELATIONS VALUES (6,4,5);
INSERT INTO USER_RELATIONS VALUES (7,5,3);
INSERT INTO USER_RELATIONS VALUES (8,5,1);
INSERT INTO USER_RELATIONS VALUES (9,5,4);

INSERT INTO POST VALUES (1,1,'#Euro 2016');
INSERT INTO POST VALUES (2,2,'#Copa America 2016');
INSERT INTO POST VALUES (3,2,'#Football #LoveIt');
INSERT INTO POST VALUES (4,2,'#LoveBurgers');
INSERT INTO POST VALUES (5,3,'#Boston #SunnyDay');
INSERT INTO POST VALUES (6,3,'#Conjuring2 #Scary #Movie');
INSERT INTO POST VALUES (7,4,'#iPhone #Technology');
INSERT INTO POST VALUES (8,4,'#GreatDay #Awesome');
INSERT INTO POST VALUES (9,5,'#California #Beaches');
INSERT INTO POST VALUES (10,5,'#California #HereWeCome');

